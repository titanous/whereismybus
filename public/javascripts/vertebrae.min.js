(function(){this.Vertebrae={VERSION:"0.1",_history:[],push:function(c,b){var d,a,e;b||(b="slide");d=$(".active-view");e=false;if(_.isEmpty(this._history)&&this._homeView==null)this._homeView=d.get(0);if(((a=this._history.slice(-2,-1)[0])!=null?a.id:void 0)===Backbone.history.getFragment()){b=_.last(this._history).transition;this._history.pop();e=true}else this._history.push({id:Backbone.history.getFragment(),transition:b});a=$(c.render().el);$("body").append(a.css("display","none").addClass("view").get(0));
return this._transition(d,a,b,e)},goHome:function(){var c,b;if(this._homeView!=null){c=$(".active-view");b=$(this._homeView).attr("class","").css("display","none").addClass("view");$("body").append(b.get(0));return this._transition(c,b,_.last(this._history).transition,true)}},_transition:function(c,b,d,a){if(a==null)a=false;a=a?"reverse":"";c.addClass("out "+d+" "+a);b.css("display","block").addClass("in "+d+" "+a+" active-view");return $(window).bind("webkitAnimationEnd",function(){c.remove();$(".active-view").removeClass("in").removeClass("reverse").removeClass(d);
return $(window).unbind("webkitAnimationEnd")})}}}).call(this);